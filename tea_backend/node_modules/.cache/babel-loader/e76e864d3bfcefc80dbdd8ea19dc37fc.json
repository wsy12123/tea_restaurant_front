{"remainingRequest":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\babel-loader\\lib\\index.js!D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\index.vue","mtime":1671284685311},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667713506232},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1667713504236},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667713515975},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667713506232},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667713514172}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { logoutApi } from \"../api/login.js\";\nexport default {\n  name: 'index',\n  data: function data() {\n    return {\n      path: \"ws://localhost:8080/webSocket\",\n      socket: \"\",\n      defAct: '/member/index',\n      menuActived: '2',\n      userInfo: {},\n      menuList: [{\n        id: '1',\n        name: '门店管理',\n        icon: 'el-icon-location',\n        children: [{\n          id: '2',\n          name: '员工管理',\n          path: '/member/index',\n          icon: 'el-icon-user-solid'\n        }, {\n          id: '3',\n          name: '分类管理',\n          path: '/category/list',\n          icon: 'el-icon-menu'\n        }, {\n          id: '4',\n          name: '菜品管理',\n          path: '/food/list',\n          icon: 'el-icon-tableware'\n        }, {\n          id: '5',\n          name: '套餐管理',\n          path: '/combo/list',\n          icon: 'el-icon-fork-spoon'\n        }]\n      }, {\n        id: '6',\n        name: '订单明细',\n        path: '/order/list',\n        icon: 'el-icon-goods',\n        children: [{\n          id: '15',\n          name: '外卖订单',\n          path: '/order/takeout',\n          icon: 'el-icon-shopping-cart-2'\n        }, {\n          id: '22',\n          name: '自取订单',\n          path: '/order/list',\n          icon: 'el-icon-s-order'\n        }] //   ],\n        // },\n\n      }],\n      iframeUrl: '/member/index',\n      headTitle: '员工管理',\n      goBackFlag: false,\n      loading: true,\n      timer: null\n    };\n  },\n  computed: {},\n  created: function created() {\n    var userInfo = window.localStorage.getItem('userInfo');\n\n    if (userInfo) {\n      this.userInfo = JSON.parse(userInfo);\n    } // console.log(this.userInfo)\n\n\n    this.closeLoading();\n    this.init();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.timer = null;\n    clearTimeout(this.timer);\n  },\n  mounted: function mounted() {\n    window.menuHandle = this.menuHandle;\n  },\n  methods: {\n    logout: function logout() {\n      var _this = this;\n\n      logoutApi().then(function (res) {\n        if (res.data.code === 1) {\n          localStorage.removeItem('userInfo');\n\n          _this.$router.push('/login');\n        }\n      });\n    },\n    goBack: function goBack() {\n      var _this2 = this;\n\n      // window.location.href = 'javascript:history.go(-1)'\n      console.log(this.menuActived);\n      var menu = {};\n\n      if (this.menuActived < 6) {\n        // console.log(\"你是天才\")\n        //  console.log(this.menuList[0])\n        menu = this.menuList[0].children.find(function (item) {\n          return item.id === _this2.menuActived;\n        });\n      } else {\n        // console.log(\"你是天天才\")\n        // console.log(this.menuList[1])\n        menu = this.menuList[1].children.find(function (item) {\n          return item.id === _this2.menuActived;\n        });\n      }\n\n      console.log(menu); // this.goBackFlag = false\n      // this.headTitle = menu.name\n\n      this.menuHandle(menu, false);\n    },\n    menuHandle: function menuHandle(item, goBackFlag) {\n      // console.log(item)\n      // console.log(\"天才\")\n      this.loading = true; // this.menuActived = item.id\n      // console.log(item.path)\n\n      this.$router.push(item.path);\n      this.headTitle = item.name;\n      this.goBackFlag = goBackFlag;\n      this.closeLoading();\n    },\n    closeLoading: function closeLoading() {\n      var _this3 = this;\n\n      this.timer = null;\n      this.timer = setTimeout(function () {\n        _this3.loading = false;\n      }, 1000);\n    },\n    // websocket测试\n    init: function init() {\n      console.log(this.path);\n\n      if (typeof WebSocket === \"undefined\") {\n        alert(\"您的浏览器不支持socket\");\n      } else {\n        // 实例化socket\n        this.socket = new WebSocket(this.path); // 监听socket连接\n\n        this.socket.onopen = this.open; // 监听socket错误信息\n\n        this.socket.onerror = this.error; // 监听socket消息\n\n        this.socket.onmessage = this.getMessage;\n      }\n    },\n    open: function open() {\n      console.log(\"socket连接成功\");\n    },\n    error: function error() {\n      console.log(\"连接错误\");\n    },\n    getMessage: function getMessage(msg) {\n      console.log(msg.data);\n      var audio = new Audio();\n      audio.src = \"http://localhost:8080/music/welcome.mp3\";\n      audio.play();\n      this.$notify({\n        title: '提醒',\n        message: '您有一条新订单请及时处理',\n        type: 'warning'\n      });\n    },\n    send: function send() {\n      var code = 4;\n      this.socket.send(code);\n    },\n    close: function close() {\n      console.log(\"socket已经关闭\");\n    },\n    destroyed: function destroyed() {\n      // 销毁监听\n      this.socket.onclose = this.close;\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"app\" id=\"app\">\r\n\t\t<div class=\"app-wrapper openSidebar clearfix\">\r\n\t\t\t<!-- sidebar -->\r\n\t\t\t<div class=\"sidebar-container\">\r\n\t\t\t\t<div class=\"logo\">\r\n\t\t\t\t\t<!-- <img src=\"images/logo.png\" width=\"122.5\" alt=\"\" /> -->\r\n\t\t\t\t\t<img src=\"../assets/login/logo.png\" alt=\"\" style=\"width: 117px; height: 32px\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n\t\t\t\t\t<el-menu :unique-opened=\"false\" :collapse-transition=\"false\" background-color=\"#343744\"\r\n\t\t\t\t\t\ttext-color=\"#bfcbd9\" active-text-color=\"#f4f4f5\">\r\n\t\t\t\t\t\t<div v-for=\"item in menuList\" :key=\"item.id\">\r\n\r\n\t\t\t\t\t\t\t<el-submenu :index=\"item.id\" v-if=\"item.children && item.children.length>0\">\r\n\t\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t\t<i :class=\"item.icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<el-menu-item v-for=\"sub in item.children\" :index=\"sub.id\" :key=\"sub.id\"\r\n\t\t\t\t\t\t\t\t\t@click=\"menuHandle(sub,false)\">\r\n\t\t\t\t\t\t\t\t\t<i :class=\"sub.icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<span slot=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t{{sub.name}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</el-menu-item>\r\n\t\t\t\t\t\t\t</el-submenu>\r\n\t\t\t\t\t\t\t<el-menu-item v-else :index=\"item.id\" @click=\"menuHandle(item,false)\">\r\n\t\t\t\t\t\t\t\t<!-- <i class=\"iconfont\" :class=\"item.icon\"></i> -->\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-location\"></i>\r\n\t\t\t\t\t\t\t\t<span slot=\"title\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t</el-menu-item>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</el-menu>\r\n\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"main-container\">\r\n\t\t\t\t<!-- <navbar /> -->\r\n\t\t\t\t<div class=\"navbar\">\r\n\t\t\t\t\t<div class=\"head-lable\" style=\"display: flex;\">\r\n\t\t\t\t\t\t<span v-if=\"goBackFlag\" class=\"goBack\" @click=\"goBack()\"><img\r\n\t\t\t\t\t\t\t\tsrc=\"../assets/icon/btn_back@2x.png\" alt=\"\" /> 返回</span>\r\n\t\t\t\t\t\t<span>{{headTitle}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"right-menu\">\r\n\t\t\t\t\t\t<div class=\"avatar-wrapper\">{{ userInfo.data.name }}</div>\r\n\t\t\t\t\t\t<!-- <div class=\"logout\" @click=\"logout\">退出</div> -->\r\n\t\t\t\t\t\t<img src=\"../assets/icon/btn_close@2x.png\" class=\"outLogin\" alt=\"退出\" @click=\"logout\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"app-main\" v-loading=\"loading\">\r\n\t\t\t\t\t<div class=\"divTmp\" v-show=\"loading\"></div>\r\n\t\t\t\t\t<router-view></router-view>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tlogoutApi\r\n\t} from '../api/login.js'\r\n\r\n\texport default {\r\n\t\tname: 'index',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpath: \"ws://localhost:8080/webSocket\",\r\n\t\t\t\tsocket: \"\",\r\n\t\t\t\tdefAct: '/member/index',\r\n\t\t\t\tmenuActived: '2',\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tmenuList: [{\r\n\t\t\t\t\t\tid: '1',\r\n\t\t\t\t\t\tname: '门店管理',\r\n\t\t\t\t\t\ticon: 'el-icon-location',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\tid: '2',\r\n\t\t\t\t\t\t\t\tname: '员工管理',\r\n\t\t\t\t\t\t\t\tpath: '/member/index',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-user-solid'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '3',\r\n\t\t\t\t\t\t\t\tname: '分类管理',\r\n\t\t\t\t\t\t\t\tpath: '/category/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-menu'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '4',\r\n\t\t\t\t\t\t\t\tname: '菜品管理',\r\n\t\t\t\t\t\t\t\tpath: '/food/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-tableware'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '5',\r\n\t\t\t\t\t\t\t\tname: '套餐管理',\r\n\t\t\t\t\t\t\t\tpath: '/combo/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-fork-spoon'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: '6',\r\n\t\t\t\t\t\tname: '订单明细',\r\n\t\t\t\t\t\tpath: '/order/list',\r\n\t\t\t\t\t\ticon: 'el-icon-goods',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tid: '15',\r\n\t\t\t\t\t\t\tname: '外卖订单',\r\n\t\t\t\t\t\t\tpath: '/order/takeout',\r\n\t\t\t\t\t\t\ticon: 'el-icon-shopping-cart-2'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tid: '22',\r\n\t\t\t\t\t\t\tname: '自取订单',\r\n\t\t\t\t\t\t\tpath: '/order/list',\r\n\t\t\t\t\t\t\ticon: 'el-icon-s-order'\r\n\t\t\t\t\t\t}, ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//   ],\r\n\t\t\t\t\t// },\r\n\t\t\t\t],\r\n\t\t\t\tiframeUrl: '/member/index',\r\n\t\t\t\theadTitle: '员工管理',\r\n\t\t\t\tgoBackFlag: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t\ttimer: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tcreated() {\r\n\r\n\t\t\tconst userInfo = window.localStorage.getItem('userInfo')\r\n\r\n\t\t\tif (userInfo) {\r\n\t\t\t\tthis.userInfo = JSON.parse(userInfo)\r\n\r\n\t\t\t}\r\n\t\t\t// console.log(this.userInfo)\r\n\t\t\tthis.closeLoading()\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.timer = null\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.menuHandle = this.menuHandle\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogout() {\r\n\t\t\t\tlogoutApi().then((res) => {\r\n\t\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\t\tlocalStorage.removeItem('userInfo')\r\n\t\t\t\t\t\tthis.$router.push('/login')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\t// window.location.href = 'javascript:history.go(-1)'\r\n\t\t\t\tconsole.log(this.menuActived)\r\n\t\t\t\tvar menu = {}\r\n\t\t\t\tif (this.menuActived < 6) {\r\n\t\t\t\t\t// console.log(\"你是天才\")\r\n\t\t\t\t\t//  console.log(this.menuList[0])\r\n\t\t\t\t\tmenu = this.menuList[0].children.find(item => item.id === this.menuActived);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(\"你是天天才\")\r\n\t\t\t\t\t// console.log(this.menuList[1])\r\n\t\t\t\t\tmenu = this.menuList[1].children.find(item => item.id === this.menuActived);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(menu)\r\n\t\t\t\t// this.goBackFlag = false\r\n\t\t\t\t// this.headTitle = menu.name\r\n\t\t\t\tthis.menuHandle(menu, false)\r\n\t\t\t},\r\n\t\t\tmenuHandle(item, goBackFlag) {\r\n\t\t\t\t// console.log(item)\r\n\t\t\t\t// console.log(\"天才\")\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t// this.menuActived = item.id\r\n\t\t\t\t// console.log(item.path)\r\n\t\t\t\tthis.$router.push(item.path)\r\n\t\t\t\tthis.headTitle = item.name\r\n\t\t\t\tthis.goBackFlag = goBackFlag\r\n\t\t\t\tthis.closeLoading()\r\n\t\t\t},\r\n\t\t\tcloseLoading() {\r\n\t\t\t\tthis.timer = null\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t// websocket测试\r\n\t\t\tinit: function() {\r\n\r\n\t\t\t\tconsole.log(this.path)\r\n\t\t\t\tif (typeof(WebSocket) === \"undefined\") {\r\n\t\t\t\t\talert(\"您的浏览器不支持socket\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 实例化socket\r\n\t\t\t\t\tthis.socket = new WebSocket(this.path)\r\n\t\t\t\t\t// 监听socket连接\r\n\t\t\t\t\tthis.socket.onopen = this.open\r\n\t\t\t\t\t// 监听socket错误信息\r\n\t\t\t\t\tthis.socket.onerror = this.error\r\n\t\t\t\t\t// 监听socket消息\r\n\t\t\t\t\tthis.socket.onmessage = this.getMessage\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topen: function() {\r\n\t\t\t\tconsole.log(\"socket连接成功\")\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\tconsole.log(\"连接错误\")\r\n\t\t\t},\r\n\t\t\tgetMessage: function(msg) {\r\n\t\t\t\tconsole.log(msg.data)\r\n\t\t\t\tvar audio = new Audio();\r\n\t\t\t\taudio.src = \"http://localhost:8080/music/welcome.mp3\"\r\n\t\t\t\taudio.play()\r\n\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '提醒',\r\n\t\t\t\t\tmessage: '您有一条新订单请及时处理',\r\n\t\t\t\t\t type: 'warning'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsend: function() {\r\n\t\t\t\tlet code = 4\r\n\t\t\t\tthis.socket.send(code)\r\n\t\t\t},\r\n\t\t\tclose: function() {\r\n\t\t\t\tconsole.log(\"socket已经关闭\")\r\n\t\t\t},\r\n\t\t\tdestroyed() {\r\n\t\t\t\t// 销毁监听\r\n\t\t\t\tthis.socket.onclose = this.close\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\t@import '../styles/index.css';\r\n\t@import '../styles/common.css'\r\n\r\n\t.body {\r\n\t\tmin-width: 1366px;\r\n\t}\r\n\r\n\t.app-main {\r\n\t\theight: calc(100% - 64px);\r\n\t}\r\n\r\n\t.app-main .divTmp {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}