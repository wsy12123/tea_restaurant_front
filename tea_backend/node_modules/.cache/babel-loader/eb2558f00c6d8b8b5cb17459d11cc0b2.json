{"remainingRequest":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\babel-loader\\lib\\index.js!D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\login.vue","mtime":1667873469656},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667713506232},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\babel-loader\\lib\\index.js","mtime":1667713515975},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667713506232},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667713514172}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u5C1A\\u7845\\u8C37\\\\uniapp_storage\\\\tea_backend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { loginApi } from \"../api/login.js\";\nexport default {\n  name: 'login',\n  el: '#login-app',\n  data: function data() {\n    return {\n      loginForm: {\n        username: 'admin',\n        password: '123456'\n      },\n      loading: false\n    };\n  },\n  computed: {\n    loginRules: function loginRules() {\n      var validateUsername = function validateUsername(rule, value, callback) {\n        if (value.length < 1) {\n          callback(new Error('请输入用户名'));\n        } else {\n          callback();\n        }\n      };\n\n      var validatePassword = function validatePassword(rule, value, callback) {\n        if (value.length < 6) {\n          callback(new Error('密码必须在6位以上'));\n        } else {\n          callback();\n        }\n      };\n\n      return {\n        'username': [{\n          'validator': validateUsername,\n          'trigger': 'blur'\n        }],\n        'password': [{\n          'validator': validatePassword,\n          'trigger': 'blur'\n        }]\n      };\n    }\n  },\n  created: function created() {},\n  methods: {\n    handleLogin: function () {\n      var _handleLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$refs.loginForm.validate(\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee(valid) {\n                    var res;\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            if (!valid) {\n                              _context.next = 6;\n                              break;\n                            }\n\n                            _this.loading = true;\n                            _context.next = 4;\n                            return loginApi(_this.loginForm);\n\n                          case 4:\n                            res = _context.sent;\n\n                            if (String(res.data.code) === '1') {\n                              console.log(\"11\");\n                              localStorage.setItem('userInfo', JSON.stringify(res.data)); //进行路由\n\n                              _this.$router.push({\n                                path: '/member/index'\n                              });\n                            } else {\n                              console.log(\"222\");\n\n                              _this.$message.error(res.data.msg);\n\n                              _this.loading = false;\n                            }\n\n                          case 6:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleLogin() {\n        return _handleLogin.apply(this, arguments);\n      }\n\n      return handleLogin;\n    }()\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,QAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,EAAA,EAAA,YAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,OADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,gBAAA,GAAA,SAAA,gBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,QAAA;AACA;AACA,OANA;;AAOA,UAAA,gBAAA,GAAA,SAAA,gBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,CAAA,WAAA,CAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,QAAA;AACA;AACA,OANA;;AAOA,aAAA;AACA,oBAAA,CAAA;AAAA,uBAAA,gBAAA;AAAA,qBAAA;AAAA,SAAA,CADA;AAEA,oBAAA,CAAA;AAAA,uBAAA,gBAAA;AAAA,qBAAA;AAAA,SAAA;AAFA,OAAA;AAIA;AApBA,GAZA;AAkCA,EAAA,OAlCA,qBAkCA,CACA,CAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,KAAA,CAAA,SAAA,CAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,KADA;AAAA;AAAA;AAAA;;AAEA,4BAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AAFA;AAAA,mCAGA,QAAA,CAAA,KAAA,CAAA,SAAA,CAHA;;AAAA;AAGA,4BAAA,GAHA;;AAKA,gCAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,8BAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,8BAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,EAFA,CAGA;;AACA,8BAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gCAAA,IAAA,EAAA;AAAA,+BAAA;AAGA,6BAPA,MAOA;AACA,8BAAA,OAAA,CAAA,GAAA,CAAA,KAAA;;AACA,8BAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AACA,8BAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AApCA,CAAA","sourcesContent":["<template>\r\n <div class=\"login\" id=\"login-app\">\n    <div class=\"login-box\">\n      <img src=\"../assets/login/login-l.png\" alt=\"\">\n      <div class=\"login-form\">\n        <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" >\n          <div class=\"login-form-title\">\n            <img src=\"../assets/login/logo.png\" style=\"width:139px;height:42px;\" alt=\"\" />\n          </div>\n          <el-form-item prop=\"username\">\n            <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"账号\" maxlength=\"20\"\n              prefix-icon=\"iconfont icon-user\" />\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <el-input v-model=\"loginForm.password\" type=\"password\" placeholder=\"密码\" prefix-icon=\"iconfont icon-lock\" maxlength=\"20\"\n              @keyup.enter.native=\"handleLogin\" />\n          </el-form-item>\n          <el-form-item style=\"width:100%;\">\n            <el-button :loading=\"loading\" class=\"login-btn\" size=\"medium\" type=\"primary\" style=\"width:100%;\"\n              @click.native.prevent=\"handleLogin\">\n              <span v-if=\"!loading\">登录</span>\n              <span v-else>登录中...</span>\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n\t\r\n\t\r\n\t\r\nimport { loginApi } from '../api/login.js'\r\n\r\n\r\n\texport default {\r\n\t\tname: 'login',\r\n\t    el: '#login-app',\r\n\t      data() {\r\n\t        return {\r\n\t          loginForm:{\r\n\t            username: 'admin',\r\n\t            password: '123456'\r\n\t          },\r\n\t          loading: false\r\n\t        }\r\n\t      },\r\n\t      computed: {\r\n\t        loginRules() {\r\n\t          const validateUsername = (rule, value, callback) => {\r\n\t            if (value.length < 1 ) {\r\n\t              callback(new Error('请输入用户名'))\r\n\t            } else {\r\n\t              callback()\r\n\t            }\r\n\t          }\r\n\t          const validatePassword = (rule, value, callback) => {\r\n\t            if (value.length < 6) {\r\n\t              callback(new Error('密码必须在6位以上'))\r\n\t            } else {\r\n\t              callback()\r\n\t            }\r\n\t          }\r\n\t          return {\r\n\t            'username': [{ 'validator': validateUsername, 'trigger': 'blur' }],\r\n\t            'password': [{ 'validator': validatePassword, 'trigger': 'blur' }]\r\n\t          }\r\n\t        }\r\n\t      },\r\n\t      created() {\r\n\t      },\r\n\t      methods: {\r\n\t        async handleLogin() {\r\n\t          this.$refs.loginForm.validate(async (valid) => {\r\n\t            if (valid) {\r\n\t              this.loading = true\r\n\t              let res = await loginApi(this.loginForm)\r\n\t\t\t\t  \r\n\t              if (String(res.data.code) === '1') {\r\n\t\t\t\t\t  console.log(\"11\")\r\n\t                localStorage.setItem('userInfo',JSON.stringify(res.data))\r\n\t             //进行路由\r\n\t\t\t\t this.$router.push({path:'/member/index'})\r\n\t\t\t\t \r\n\t\t\t\r\n\t              } else {\r\n\t\t\t\t\t  console.log(\"222\")\r\n\t                this.$message.error(res.data.msg)\r\n\t                this.loading = false\r\n\t              }\r\n\t            }\r\n\t          })\r\n\t        }\r\n\t      }\r\n\t\t\t\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\t/* @import '../styles/common.css'; */\r\n\t@import '../styles/login.css';\r\n\r\n</style>\n"],"sourceRoot":"src/components"}]}